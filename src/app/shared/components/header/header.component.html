<nav class="h-20 flex justify-between items-center bg-sky-700">
  <img class="p-4 h-16 " src="assets/alkemyLogo.svg">
  <div class="flex items-center lg:hidden mr-5">
    <button mat-icon-button aria-label="Open responsive nav" (click)="showSideBar()">
      <mat-icon>menu</mat-icon>
    </button>
  </div>
  <div class="ml-10 text-white hidden lg:flex flex-auto gap-3">
    <button mat-button [routerLink]="'/home'">Inicio</button>
    <ng-container *ngFor="let navItem of navbarData">
      <button mat-button [routerLink]="navItem.ruta" *ngIf="isLoggedIn$ | async">{{navItem.label}}</button>
    </ng-container>
  </div>
  <div class="menu hidden lg:block px-10 text-white" *ngIf="isLoggedIn$ | async">
    <ab-avatar [name]="[dataUsuario.first_name, dataUsuario.last_name]" [responsiveIcon]="false" [matMenuTriggerFor]="menu"></ab-avatar>
    <mat-menu #menu="matMenu">
      <div class="flex flex-col items-start px-3 pt-2 pb-4">
        <p class="text-base font-medium">{{dataUsuario.first_name}} {{dataUsuario.last_name}}</p>
        <span class="text-xs">{{dataUsuario.email}}</span>
      </div>
      <hr>
      <button mat-menu-item routerLink="/banco/dashboard">
        <mat-icon>badge</mat-icon>
        <span>Perfil</span>
      </button>
      <button mat-menu-item>
        <mat-icon>edit_note</mat-icon>
        <span>Editar perfil</span>
      </button>
      <button mat-menu-item (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Cerrar sesion</span>
      </button>
    </mat-menu>
  </div>
  <div class="hidden lg:block px-10" *ngIf="!(isLoggedIn$ | async)">
    <a routerLink="/auth/login" class="whitespace-nowrap text-base font-medium text-gray-100 hover:text-white" > Ingresar
    </a>
    <button [routerLink]="'/auth/registro'" mat-raised-button color="primary"
      class="ml-8 px-4 py-2 bg-sky-700 text-base font-medium">Registrate gratis</button>
  </div>
</nav>
<div *ngIf="showSidebar === true"
  class="fixed left-0 top-0 w-72 bg-white h-screen shadow-2xl shadow-black z-50 block lg:hidden">
  <div class="h-full flex flex-col justify-between">
    <div class="flex flex-col px-4">
      <div class="py-8 m-auto">
        <img class="h-10" src="assets/alkemyLogo.svg">
      </div>
      <div class="flex flex-col text-black">
        <button mat-button class="w-full py-2.5" [routerLink]="'/home'">
          <div class="flex items-center gap-8">
            <mat-icon>home</mat-icon>
            <span>Inicio</span>
          </div>
        </button>
        <ng-container *ngFor="let navItem of navbarData">
          <button mat-button [routerLink]="navItem.ruta" *ngIf="isLoggedIn$ | async" class="w-full py-2.5">
            <div class="flex items-center gap-8">
              <mat-icon>home</mat-icon>
              <span>{{navItem.label}}</span>
            </div>
          </button>
        </ng-container>
      </div>
    </div>
    <div  class="border-t hover:bg-slate-300 cursor-pointer" [matMenuTriggerFor]="menuResponsive">
      <div class="p-4 flex gap-5 items-center">
        <ab-avatar [name]="[dataUsuario.first_name, dataUsuario.last_name]" [responsiveIcon]="true"></ab-avatar>
        <div class="flex flex-col justify-center">
          <h2 class="font-medium ">{{dataUsuario.first_name}} {{dataUsuario.last_name}}</h2>
          <p class="text-sm">{{dataUsuario.email}}</p>
        </div>
      </div>
    </div>
    <mat-menu #menuResponsive="matMenu" class="ml-1 absolute bottom-0" xPosition="before" yPosition="below">
      <button mat-menu-item routerLink="/banco/dashboard">
        <mat-icon>badge</mat-icon>
        <span>Perfil</span>
      </button>
      <button mat-menu-item>
        <mat-icon>edit_note</mat-icon>
        <span>Editar perfil</span>
      </button>
      <button mat-menu-item (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Cerrar sesion</span>
      </button>
    </mat-menu>
  </div>
</div>
